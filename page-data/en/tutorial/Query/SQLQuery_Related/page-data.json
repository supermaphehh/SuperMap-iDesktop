{"componentChunkName":"component---src-templates-tutorial-js","path":"/en/tutorial/Query/SQLQuery_Related/","webpackCompilationHash":"b56fc1f276773fcd7503","result":{"data":{"markdownRemark":{"html":"<p>Cross Table Query allows you to query data from more than one table based on\nthe relationship between certain fields in these tables. This example shows\nyou how to query the county population and capital population from two\ndifferent datasets.</p>\n<h3 id=\"data-involved\"><a href=\"#data-involved\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Data Involved:</h3>\n<p>(1) In the World dataset, the capitals (Capital), World (Country) and the\npopulation of the World (Pop_1994) are store.</p>\n<p>(2) In the Capitals dataset, the capitals (Capital) and the population of the\ncapitals (Cap_Pop) are stored.</p>\n<h3 id=\"basic-ideas\"><a href=\"#basic-ideas\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Basic Ideas:</h3>\n<p>Relate the World and Capitals datasets with the common filed—Capital. Query\nbased on the relationship built between the two datasets and get a new dataset\ndescribing the country, capital, country population and capital population.</p>\n<h3 id=\"steps\"><a href=\"#steps\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Steps:</h3>\n<p>Steps:1. Open World.smwu and double click World to display the dataset in an\nUntitled Map.</p>\n<p>2. On the <strong>Spatial Analysis</strong> tab, in the <strong>Query</strong> group, click <strong>SQL\nQuery</strong> to display the SQL Query dialog box.</p>\n<p>3. In the SQL Query dialog box, select the World dataset and click the\nRelated item at the bottom of the dialog box.</p>\n<p>4. The Relate dialog box shows up. Set the Related Dataset, Source Field,\nRelated Field, and Join Type to Capitals, Capital, Capital and Left Join\nrespectively.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3f3a93098a3473887195730156bc592a/cbf4c/RelateSet.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 692px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 54.33526011560693%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABbElEQVQoz62NTW/TQBRF58ejCrFgEZC6CBt+Aa3UFUiUghJSGiq6QUqbtiFO/D0ZT+zYY+P4ME5LI3UVFa509c57o3tHXIxuObv4yeVkhhsneNZupPCsfakfOLDcTi/esnvvNhOpJaNpiAgCn9Cfk8QBWgaksUudSYwOWUZzfmfxhnXoUC7DBzY6sm+SeiVJpUcubcciRhz8ULz84NPta16dKJ4f3dI9Nbw+kbw4uqHzJWP/s2Tv3YjOJ0XnOGbv4JI3/YS3w4LuN0PnvcOzwxv2exoxnGQMZjBw1vR/1ZzN2czBdM3QhV7L9u3cg6/2trlbPnVarulNas7dhu/29vEqRxRFwZ2aR3NX3u5lVSJUmm+Wet2wbp7mNttqkdnCJLsrbJrHv+6uv9lk1Ram28J/cSu1MgidFfwv6bxCyCSlqiqMMZiy3NmldVEY0jS1WXsrcoLFEuFHCxKlUE9wFEWMx2OklMxnDtdTlz96qUYdduVIawAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"RelateSet\"\n        title=\"\"\n        src=\"/static/3f3a93098a3473887195730156bc592a/cbf4c/RelateSet.png\"\n        srcset=\"/static/3f3a93098a3473887195730156bc592a/6a467/RelateSet.png 210w,\n/static/3f3a93098a3473887195730156bc592a/635b1/RelateSet.png 420w,\n/static/3f3a93098a3473887195730156bc592a/cbf4c/RelateSet.png 692w\"\n        sizes=\"(max-width: 692px) 100vw, 692px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </p>\n<hr>\n<p>Click OK to create the relationship and go back to the SQL Query dialog box.\nThe related field is added to the Fields list.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f7ee2acfd7310136ab1bb5313cc39f26/51b71/Fields.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 367px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 56.675749318801095%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABwUlEQVQoz2VSi27aQBD0/39P0gSllVAT8RKowSXIsY3Nw+AHYGxA4s1kZ6VLSLvS6c4369nZ2bNs+y8eHyt4kBXHKVarAlk2R6PRxNPPX3h97aIo11gslrJyrIoSYTjC7+cX3N3/wGAQoBR8ucwRBCEsx3mXjyW22y0OhyMOxyPW6zU8z5fkARzHQZ7nuFwuOAp2Pp8RDoeoVCqYTqd6t9/v5d8DZrMYVpwkSrbZbETdCozT6SRqFnrHnYQ8G2IKaDYbeHvr4TaSJIVFFePxWFeWZQqw4mg0EgtiqTrDUBQR5zcVlmUJ27bRbre1OON6vYLiLJPIqiYoPxGQd9yJp2mqZAwqbbVaqNVqn4RC+Z2QflAVW6QvURQpiVFplLKL+XyOTqcjg2t8I9SWfd9Hv99XH6mAHlEhiUhOol6vp2eDF0WhLdfr9f8VBkGgLdwGCSeTiSrhzrZJ9GV+gmq1CooxQQ99P4AVhkOdIAdhqvFMC0jI3djAewbtoH8cjiGj+j/yZi2CVEF/+P7+HQrJiNFfFmAwnzaYfBJyua4Py3VddLtdef3h56R3u52S0D8WJO55nvrKIDmfzK1CehhFU3wAQ2Q4DSGG9OUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Fields\"\n        title=\"\"\n        src=\"/static/f7ee2acfd7310136ab1bb5313cc39f26/51b71/Fields.png\"\n        srcset=\"/static/f7ee2acfd7310136ab1bb5313cc39f26/6a467/Fields.png 210w,\n/static/f7ee2acfd7310136ab1bb5313cc39f26/51b71/Fields.png 367w\"\n        sizes=\"(max-width: 367px) 100vw, 367px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </p>\n<hr>\n<p>5. Set the Query Mode to Geometry and Attributes, then type World.COUNTRY as\nCountry,World.POP<em>1994 as Country Population,Capitals.CAPITAL as\nCapital,Capitals.CAP</em>POP as Capital Population in the Select box. as shown\nbelow.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4590cbbddf1f2f4aa00c695f97570855/e66b2/SQLQuery5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 822px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 63.503649635036496%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACXUlEQVQ4y11SyXITQQyd//8BOFIVbnDgxoVDKsmBYE9B7CSO7Znx7GvPvnnNQ1JiIEyVRt1q6UlPkjZ7MnA3f0CUKsRZ8apzkSj9q03bhR+loleGBdsLkKhC7sbGQZqX4qvxw3K1hknGvu+x3W4xkBYZBrFFUYSb62sEQUgSwLFthKTzXMHebDCZ/IBNtqosoXXjDvypooZlbcgpx7/f4XCA7wcwTROe52E2m2EYR0lU14347Pd77HY78dWqdgCen5EToOt6KCnL8Xgk07M4c5UeAXZdhzAMoes6xlfAOI7Rkp1ZnW1a048SGCeKAqI/lZ0BOSvbl8ulUGdqaZrK2fd9ScJtcF0XTdNAy6uWgvYom04ycqbT6fSGMgMwIFfP9NiHqzpTlfOr1m6nPzGfz1GUFe7vHxBQxrbtYFoW1oZBIBVVE4sPA7dtK5X8L2yvqgqa6fhQKpdGWzQxnybZDyNWawOGYeJE1BloQ28cyJ3gdpzl3B4WZqax82GoeFbYdRX6StGRJpjHyEJHAoqiEMAsy4juVgbRyVqNcu77QdrAd+36IcTVsoLujrhaZPh2F2HibHE5j/BVd7FIqcJMYb1eYzqdSrXcjhXdFa3YcrWC4zhEt5bE2udJjPc3NT7dn3BxW+LdZYwPkxEfvytcTDt8eTzBpeXX9Sl+3c2wNm3kSkkwD6lgKV609DAKfTSpRzRbbJsMjQpw6HLSIY5DCfpRjxUWiycJCmiFkiQRG7fgrVYvQ3lcLOHRMEoqu6pbxGmGME6QkINlO5KZB8IV1fXLmXeT95DBWTMo7+Rvre/ONlaiVtgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"SQLQuery5\"\n        title=\"\"\n        src=\"/static/4590cbbddf1f2f4aa00c695f97570855/e66b2/SQLQuery5.png\"\n        srcset=\"/static/4590cbbddf1f2f4aa00c695f97570855/6a467/SQLQuery5.png 210w,\n/static/4590cbbddf1f2f4aa00c695f97570855/635b1/SQLQuery5.png 420w,\n/static/4590cbbddf1f2f4aa00c695f97570855/e66b2/SQLQuery5.png 822w\"\n        sizes=\"(max-width: 822px) 100vw, 822px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </p>\n<hr>\n<p>6. View the query results.</p>\n<p>The QueryResult dataset generated from the query has the same type with the\nWorld dataset. The Country, Country Population, Capital, Capital Population\nand some system fields compose the attribute table of the result dataset.</p>\n<p>The window mode is switched to Related to display both the Untitled Map and\nthe attribute table of the query results. Meanwhile, the query results are\nhighlighted on the map. You can locate to a country by selecting the\ncorresponding record in the attribute table of the query results, as shown\nbelow.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/08ed7d69259175095c11df258af8f480/7d205/SQLQuery6.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 39.27789934354485%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABzElEQVQozz2R22sTQRyF88f7JD6Ibz4UCgr6Ui8QUYuiibQYtbXNppu42e79kuxcNps0SUmTfO5O0YGZA/NjPs450woGLyicI+ZaUpVLFrMl81qrcsWsXCAKQZRk+GHMtR8hlSZJEsqyZDqdopQymuc5lmXRututSXSMW1jY2Qld9w0d9y0/om9Y2RkTlSGlRmlNGIYGdO15NUjjeT5ZlpOmKXGcMBwOafkypf37I4e9pzz4csDjD094+OoRL7uHuNJClgW6rBBC4Pt+DZcGUBRFDcuYTCbmrpnbtk2rffmeo4vPtM/f8eysx+vOV74fd8jElmYtb1YUQtUPpHHYRPyncRwbcBO5gRuglYw5OHlOzz7mbr8nrCr6eYq6XXC33bC4uUHUkYVUBEHwH9i4chyn7jM1LpteDbBx8cnuMkxGbHew2e3xZMXRr0umlWa1XBqIkoIw8JhpRRT6aFVHTyKK6aTeOXmW3nfYAHfbdXOy535ttlsCMWN+u6acz/CzkiCTDJyAaKKx3cio9cfHCTK8VOCGOf3ml5sY47HLaDQynbiuy9VgQJ4mtZMAx4u4ikrOxzmnfZ/eVcTPUcogVAwCVc+0UTsUXFz2+QsygEX9rTuNcQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"SQLQuery6\"\n        title=\"\"\n        src=\"/static/08ed7d69259175095c11df258af8f480/04a72/SQLQuery6.png\"\n        srcset=\"/static/08ed7d69259175095c11df258af8f480/6a467/SQLQuery6.png 210w,\n/static/08ed7d69259175095c11df258af8f480/635b1/SQLQuery6.png 420w,\n/static/08ed7d69259175095c11df258af8f480/04a72/SQLQuery6.png 840w,\n/static/08ed7d69259175095c11df258af8f480/7d205/SQLQuery6.png 914w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </p>\n<hr>\n<h3 id=\"note\"><a href=\"#note\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><img src=\"/read-56e09d9020b6fe36d2da63ae2fd275c5.gif\">Note</h3>\n<ol>\n<li><strong>Join Type:</strong></li>\n</ol>\n<p>The Left Join returns all records from the source dataset, even if there are\nno matches in the related dataset. If the record in the World dataset has\nmatched record in the Capitals dataset, the Capital Population field is filled\nwith the value from the Capitals dataset. If the record in the World dataset\ndoesn’t have matched record in the Capitals dataset, the Capital Population\nfield is null.</p>\n<p>The Inner Join returns records when the specified field matches in both\ndatasets. If the record in the World dataset doesn’t have matched record in\nthe Capitals dataset, the record will be removed from the result dataset.</p>\n<p>The following figures illustrates the two join types.</p>\n<p><strong>Source Table</strong> | <strong>Related Table</strong> | <strong>Left Join Results</strong> | <strong>Inner Join\nResults</strong><br>\n---|---|---|---<br>\n| Source Field | Field 2<br>\n---|---<br>\n1 | 1A<br>\n2 | 2B<br>\n3 | 3C<br>\n4 | 4D<br>\n| Related Field | Field 3<br>\n---|---<br>\n1 | 10<br>\n2 | 20<br>\n3 | 30<br>\n5 | 50<br>\n| Related Field: | Field 2 | Field 3<br>\n---|---|---<br>\n1 | 1A | 10<br>\n2 | 2B | 20<br>\n3 | 3C | 30<br>\n4 | 4D |<br>\n| Related Field: | Field 2 | Field 3<br>\n---|---|---<br>\n1 | 1A | 10<br>\n2 | 2B | 20<br>\n3 | 3C | 30<br>\n|  |  </p>\n<ol start=\"2\">\n<li><strong>Relate Fields:</strong></li>\n</ol>\n<p>If many records have the same value in the source field, the relation between\nthe source and related tables might be many to one. For instance, the source\ntable stores the provincial information and the related table stores the\nnational information. When you relate the two tables, the relation of many\nprovinces to one country exists in the result table and the many to one\nrelation is meaningful.</p>\n<p>If many records have the same value in the related field, the relation between\nthe source and related tables might be one to many. In this situation, the\nlast record of a value in the related table will be kept for establishing the\nrelation between the two tables.</p>\n<p>To ensure the accuracy and predictability of the results, it is suggested that\nyou ensure the related field can uniquely identify each record of the related\ntable.</p>","frontmatter":{"title":"An Example for Linked Table SQL Query","next":null,"prev":null},"fields":{"path":"content\\tutorial\\Query\\SQLQuery_Related.en.md","slug":"/en/tutorial/Query/SQLQuery_Related/","langKey":"en"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/en/tutorial/Query/SQLQuery_Related/"}}}