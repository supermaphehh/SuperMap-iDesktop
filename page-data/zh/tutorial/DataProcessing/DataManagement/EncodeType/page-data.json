{"componentChunkName":"component---src-templates-tutorial-js","path":"/zh/tutorial/DataProcessing/DataManagement/EncodeType/","webpackCompilationHash":"b56fc1f276773fcd7503","result":{"data":{"markdownRemark":{"html":"<p>根据不同的应用目的为 GIS 数据设置合理的编码方式，其对提高系统运行的效率，节省存储空间非常有利。\n中，提供了多种编码方式，其各自的特点及适用情况，如下表所示:</p>\n<table>\n<thead>\n<tr>\n<th>编码方式</th>\n<th>描述</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>未编码</td>\n<td>不使用编码方式。</td>\n</tr>\n<tr>\n<td>SGL</td>\n<td>SGL（SuperMap Grid LZW），SuperMap 自定义的一种压缩存储格式。其实质是改进的 LZW 编码方式。SGL 对 LZW 进行了改进，是一种更高效的压缩存储方式。目前 SuperMap 中的对 Grid 数据集和 DEM 数据集压缩存储采用的就是 SGL 的压缩编码方式，这是一种无损压缩，适用于栅格数据集。</td>\n</tr>\n<tr>\n<td>DCT</td>\n<td>DCT（Discrete Cosine Transform），离散余弦编码，是一种广泛应用于图像压缩中的变换编码方法。这种变换方法在信息的压缩能力、重构图像质量、适应范围和算法复杂性等方面之间提供了一种很好的平衡，成为目前应用最广泛的图像压缩技术。其原理是通过变换降低图像原始空间域表示中存在的非常强的相关性，使信号更紧凑地表达。该方法有很高的压缩率和性能，但编码是有失真的。由于影像数据集一般不用来进行精确的分析，所以 DCT 编码方式是影像数据集存储的压缩编码方式，适用于影像数据集。</td>\n</tr>\n<tr>\n<td>LZW</td>\n<td>LZW 是一种广泛采用的字典压缩方法，其最早是用在文字数据的压缩方面。LZW 的编码的原理是用代号来取代一段字符串，后续的相同的字符串就使用相同代号，所以该编码方式不仅可以对重复数据起到压缩作用，还可以对不重复数据进行压缩操作。适用于索引色影像的压缩方式，这是一种无损压缩编码方式，适用于栅格和影像数据集。</td>\n</tr>\n<tr>\n<td>PNG</td>\n<td>PNG 压缩编码方式，支持多种位深的图像，是一种无损压缩方式，适用于影像数据集。</td>\n</tr>\n<tr>\n<td>JPEG</td>\n<td>JPEG是一种有损压缩的方式，在保证视觉效果无差异的前提下，压缩比可达到1/20至1/40，压缩程度较高，适用于作为背景图的影像数据。</td>\n</tr>\n<tr>\n<td>复合编码</td>\n<td>数据集复合编码方式，其压缩比接近于 DCT 编码方式，主要针对 DCT 压缩导致的边界影像块失真的问题。（适用于 RGB 格式的影像数据集）。</td>\n</tr>\n<tr>\n<td>四字节</td>\n<td>四字节编码方式。使用四个字节存储一个坐标值，适用于矢量数据，但不适用于二维点数据集、纯属性数据集、CAD 数据集和三维矢量数据集。</td>\n</tr>\n<tr>\n<td>三字节</td>\n<td>三字节编码方式。使用三个字节存储一个坐标值，适用于矢量数据，但不适用于二维点数据集、纯属性数据集、CAD 数据集和三维矢量数据集。</td>\n</tr>\n<tr>\n<td>双字节</td>\n<td>双字节编码方式。使用两个字节存储一个坐标值，适用于矢量数据，但不适用于二维点数据集、纯属性数据集、CAD 数据集和三维矢量数据集。</td>\n</tr>\n<tr>\n<td>单字节</td>\n<td>单字节编码方式。使用一个字节存储一个坐标值，适用于矢量数据，但不适用于二维点数据集、纯属性数据集、CAD 数据集和三维矢量数据集。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"不同的数据格式，支持的编码类型\"><a href=\"#%E4%B8%8D%E5%90%8C%E7%9A%84%E6%95%B0%E6%8D%AE%E6%A0%BC%E5%BC%8F%EF%BC%8C%E6%94%AF%E6%8C%81%E7%9A%84%E7%BC%96%E7%A0%81%E7%B1%BB%E5%9E%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><img src=\"/read-56e09d9020b6fe36d2da63ae2fd275c5.gif\">不同的数据格式，支持的编码类型</h3>\n<p>对 <strong>矢量数据集</strong>\n支持四种压缩编码方式，即单字节，双字节，三字节和四字节编码方式，这四种压缩编码方式采用相同的压缩编码机制，但是压缩的比率不同，其均为有损压缩。</p>\n<p>对光栅数据，可以采用四种压缩编码方式，即 DCT、SGL、LZW 和 复合编码。其中 DCT\n和复合编码为有损压缩编码方式，SGL和LZW为无损压缩编码方式。</p>\n<p>需要注意的是点数据集、纯属性数据集以及 CAD 数据集不可压缩编码。</p>\n<p>对矢量的压缩编码方式，以线数据集的单字节编码为例，说明其压缩编码的机制。假设未压缩的线数据集的空间数据是以双精度数据类型存储的，现使用单字节压缩编码方式对其进行压缩存储。\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/668b27fe319b04051e0d713d30ce18ac/55a47/vectorTypeExample.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 304px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 58.223684210526315%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABTklEQVQoz31S2XKDMAzM/38aMyVtHzJNIUcJhjjGB5gb43SBJqQH1Xg8kker1UpeXRes7/tiNDhLOau713adUGlVljhNXfMkcV3XcRzGWFmWWus8z3HDt9bO4ClIde68bJ+3wdPm8LYPpUpBm2mdPpiUklLatu1P8FR+aNheha69UHSm/62Fc951nR3tD/AUCl0FVE0AezNjDMC4F5m/wrrdR3JsxD4yK6WAD8MwjuNF8EUWPKvG8FvbkA3xAAdBMIOH8WQZHDPu5hjzhIuqyKtqLjFpntuGNy2Ac4l1oBDmMQxfCcdde7tDVRZ3AoCFEPPAmqYhhGCZ5zPhnE4Z2HlvDOXZ+ynxQ+adGKEyUZqJlESxGasPzEhNkgRCPG/9EWwIOfu+jxfsUwmO8URnFlO2C6KNf3rdHuMLt7c/twI7MpBdFCViKATsny/5aJ/ScLSdXTBR6wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"vectorTypeExample\"\n        title=\"\"\n        src=\"/static/668b27fe319b04051e0d713d30ce18ac/55a47/vectorTypeExample.png\"\n        srcset=\"/static/668b27fe319b04051e0d713d30ce18ac/6a467/vectorTypeExample.png 210w,\n/static/668b27fe319b04051e0d713d30ce18ac/55a47/vectorTypeExample.png 304w\"\n        sizes=\"(max-width: 304px) 100vw, 304px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </p>\n<p>如图所示为线数据集中的一个对象，其最小外接矩形的宽度为Width，高度为Height，则用单字节编码进行压缩的比率为： <strong>ratio =\nmax(Width,Height)/255</strong> 。</p>\n<p>其中255是单字节所能表示的最大数值。设线对象的左下角点的坐标为（x0，y0），则对于线对象上的某个点（x,\ny），其编码后的坐标为：x’=byte[(x-x0)/ratio] y’=byte[(y-y0)/ratio]</p>\n<p>因而编码之后的点的坐标以字节型数据类型存储，则数据集的存储空间为未编码时存储空间的1/8。显然在将双精度（8Byte）类型编码成字节（1Byte）类型时，精度是有损失的。对于坐标值来说，最大精度损失值为ratio。</p>\n<p>对于其他矢量压缩编码方式，其原理一样，压缩后坐标精度的最大损失为 <strong>ratio = max（Width, Height）/maxValue 。</strong></p>\n<p>其中，Width和Height为几何对象的最小外接矩形的宽度和高度，maxValue为编码方式的数据类型所能表示的数值的最大值（单字节编码最大值为255，双字节编码最大值为65535，三字节编码最大值为16777215，四字节编码最大值为4294967295）。</p>\n<ul>\n<li>对于影像和栅格数据集，根据其像素格式选择合适的压缩编码方式，对提高系统运行的效率，节省存储空间非常有利。下表列出了影像和栅格数据集不同像素格式对应的合理的编码方式。例如：像素格式为1位单色的数据，支持LZW、PNG的原始编码方式，当原编码方式为DCT、SGL及复合编码时，可选择LZW的编码格式。\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/dcdb95298b99a6d3c53ceb796c27eaf1/17788/RasterType.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 737px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 52.645861601085485%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABr0lEQVQoz0WRUU/bMBSF/f8fQSBNQ4XRASttaaVSIW08VhptUwpaprYq65hEk0Bix06CE5OEcBJ3cHTlfPa177l2yM7XQa111fn+68vZeLs+2G9PPjWG24eDvdb48+loC9Ac1dpjDfttA6mDM6PRv909/kl6lzeN/qRxbhx1r+qd4Wn/+qRn1LvDb+cG4LAzbF5MEQBsa11MkcLY/XFz0puQh4d/RZEVRZrnqnh9iUKWxBFAxaFKotdcIfIsyctRZWmC6YuKBKc4RZZ3fzgPAhH4Pvc5d13PowzMuUAw5m/A3wC+jLGnJ1cEAfl7fx9Xeq4kBBaD5/+KokjKDWMdJQFhGAKSOCbz+RyVsElUopTCDcAqCYGuAp3yfR9ZAE56nocSxDRN23GUUigppXx3Rg4V9aJ2DkM4C8wj7ZwkZDabPTqP2FfeUgjHtj3XrbgMuGkrXj6Ha9t2eX9K15ZVOi8Wi+XyDq2iEkx0Y7KSNozlRvpSUsZoAc+KZslv01yvrQ9nx0EC4FbSLbw7IwuAs2XZpfNqtaKMZlkGZxTDMVxTqUT/Ar2ox7ASQHeRpukbU9BRA3S+B+0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"RasterType\"\n        title=\"\"\n        src=\"/static/dcdb95298b99a6d3c53ceb796c27eaf1/17788/RasterType.png\"\n        srcset=\"/static/dcdb95298b99a6d3c53ceb796c27eaf1/6a467/RasterType.png 210w,\n/static/dcdb95298b99a6d3c53ceb796c27eaf1/635b1/RasterType.png 420w,\n/static/dcdb95298b99a6d3c53ceb796c27eaf1/17788/RasterType.png 737w\"\n        sizes=\"(max-width: 737px) 100vw, 737px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </li>\n</ul>\n<p><strong>注意</strong> ：栅格数据集只支持LZW\nSGL，当原编码方式为DCT、复合编码时，可选择SGL的编码方式。8位影像的非灰色度调色板不支持DCT编码，可转为LZW的编码方式。</p>","frontmatter":{"title":"数据集压缩编码方式","next":null,"prev":null},"fields":{"path":"content\\tutorial\\DataProcessing\\DataManagement\\EncodeType.zh.md","slug":"/zh/tutorial/DataProcessing/DataManagement/EncodeType/","langKey":"zh"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/zh/tutorial/DataProcessing/DataManagement/EncodeType/"}}}