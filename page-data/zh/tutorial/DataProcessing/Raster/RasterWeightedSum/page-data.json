{"componentChunkName":"component---src-templates-tutorial-js","path":"/zh/tutorial/DataProcessing/Raster/RasterWeightedSum/","webpackCompilationHash":"b56fc1f276773fcd7503","result":{"data":{"markdownRemark":{"html":"<h3 id=\"功能说明\"><a href=\"#%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><img src=\"/read-56e09d9020b6fe36d2da63ae2fd275c5.gif\">功能说明</h3>\n<p>加权总和是指将多个栅格数据按指定的权重，叠加成一个栅格。计算原理为：每个栅格数据的栅格值*对应的权重后，再将同位置的栅格像元相加，即可得到结果数据。如下图所示，以左上角第一个像元为例：栅格值2</p>\n<ul>\n<li>权重0.7 + 栅格值3 * 权重0.3 = 2.3。</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/57cf4a6fb3a38e704174653a95b05d00/3214c/WeightedSum.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 496px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 31.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB7klEQVQY0x3OT2jTcBwF8FwUhgpexJsXj549iKh4UXYRRIR162bFiTJQsMh0CErZXEGUOVRUUHG17l/bdRYznbYLnc1GYF10a9dmNmnWZqkzW9okv5rW/erXtO/2+MDjEVuzw6gYG0VFJohUchCt3ztpaPOBKlihUj7z7dx9Y2xhEE2wz1F4Zdz4nqPNugkbetVPZ4yvSzKaiq+h/g9pdMO7jAh98ROg+EfQokOgkQOgPG5pdCv/qLQPPIwbXsbuwJs5F1CcH5al+YaJCoIpVgKSLcAIvQZPvgjQH/oJhJ5N4vIqgxV/L1Yn3Vh5fwsXlyis/YXaLDeB3zEPcHfgLO4JnsfTyWH8I09jVKnVrMFaNCFhbyyH+4Ir2BPN4hE6h4lKIgLVhSDoLxzwJ+SG7eQM4E2x/gLGFgfgLmmD7skz0Pv5AiQ3GFjXsg0TNk0IxQvwcDoHXV4OIqkiJGQTCDU2Kuozr4Tffaczmt/Fl/OcaKpyfVF8Rt0WOz1Hs9fHT2VcZAefLrCCrOYly0opSfv1OswJPb40f+4py39b3eJFxRAJC3dcudx5yGGzN1+02w8PPXLv1WShqaShXZbtvObsOtBqszW3tbYcdzpv7i9XSnvwNj5oViv7fIHI7ksdV4+12x0n2tscR8J0vOk/eAtu2uQ2QYYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"WeightedSum\"\n        title=\"\"\n        src=\"/static/57cf4a6fb3a38e704174653a95b05d00/3214c/WeightedSum.png\"\n        srcset=\"/static/57cf4a6fb3a38e704174653a95b05d00/6a467/WeightedSum.png 210w,\n/static/57cf4a6fb3a38e704174653a95b05d00/635b1/WeightedSum.png 420w,\n/static/57cf4a6fb3a38e704174653a95b05d00/3214c/WeightedSum.png 496w\"\n        sizes=\"(max-width: 496px) 100vw, 496px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </p>\n<hr>\n<p>加权总和原理示意图  </p>\n<p><strong>适用数据</strong> :栅格数据。</p>\n<h3 id=\"应用场景\"><a href=\"#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>应用场景</h3>\n<p>加权总和常应用于：</p>\n<ul>\n<li>植被、农作物等适宜性分析;</li>\n<li>学校、公园等选址分析。</li>\n</ul>\n<h3 id=\"功能入口\"><a href=\"#%E5%8A%9F%E8%83%BD%E5%85%A5%E5%8F%A3\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>功能入口</h3>\n<p>单击 <strong>数据</strong> 选项卡-> <strong>数据处理</strong> -> <strong>加权总和</strong> 按钮。</p>\n<h3 id=\"参数说明\"><a href=\"#%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><img src=\"/read-56e09d9020b6fe36d2da63ae2fd275c5.gif\">参数说明</h3>\n<ul>\n<li>\n<p><strong>添加数据</strong> ：单击工具栏中的“ <strong>添加</strong> ”按钮，在 <strong>选择</strong> 对话框中选中输入的栅格数据，数据说明如下： </p>\n<ul>\n<li>输入的栅格数据坐标系需一致；</li>\n<li>栅格像素格式可以为浮点型、整型、无符号等类型，可不一致；</li>\n</ul>\n</li>\n<li><strong>权重</strong> ：设置栅格数据的权重值，可以是正值、负值、整数、小数值，也不限定必须为相对百分比，所有权重值的总和也无需等于 1。例如在进行农作物适宜性分析时，光照影响因素占50%，坡度影响因素占20%，坡向影响为30%，则光照的权重可设为0.5，坡度的权重可设为0.2，坡向的权重可设为0.3。</li>\n<li><strong>像素格式</strong> ：默认为第一个栅格数据的像素格式，提供了1位、4位、8位、16位、32位、64位、单精度浮点型和双精度浮点型等11种格式，每种格式的具体说明请参见<a href=\"../../Analyst/VectorRasterConvert/PixelFormat.htm\">栅格数据集像素类格式</a>。</li>\n<li><strong>对数据集进行压缩储存</strong> ：勾选该复选框以后，系统会对结果数据集进行压缩存储，否则将不进行压缩存储。</li>\n<li><strong>忽略无值栅格单元</strong> ：勾选该复选框以后，输入栅格数据集中的无值栅格单元将不参与代数运算，结果数据集中相应位置的像元值仍为空值（通常为-9999）；若不勾选该项，则系统会将无值栅格单元的像元值作为普通像元值参与运算，此时会导致结果栅格数据集的极小值（或极大值）发生改变。</li>\n<li><strong>环境设置</strong> ：分析环境包括结果数据集的地理范围、裁剪范围、默认输出分辨率等参数进行设定，具体说明请参见<a href=\"../../Analyst/Raster/AnalystEnvironment.htm\">设置分析环境</a>。</li>\n</ul>\n<h3 id=\"应用示例\"><a href=\"#%E5%BA%94%E7%94%A8%E7%A4%BA%E4%BE%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><img src=\"/read-56e09d9020b6fe36d2da63ae2fd275c5.gif\">应用示例</h3>\n<p>现有公园规划选址各因素的栅格数据，依据如下条件，进行公园选址。</p>\n<ul>\n<li><strong>地势</strong> ：坡度小于 20°;</li>\n<li><strong>高程</strong> ：高程值在 1000～1800m；</li>\n<li><strong>与湖泊的距离</strong> ：距离湖泊不超过 1km；</li>\n<li><strong>与街道距离</strong> ：候选区不应该在主要街道的 300m 缓冲区内，</li>\n</ul>\n<p><strong>数据准备</strong> ：地形数据、湖泊数据、公园数据、道路数据。</p>\n<p><strong>操作说明</strong></p>\n<ol>\n<li>坡度：对地形数据进行坡度分析，再对坡度数据进行代数运算，将坡度小于等于20的赋值为1，大于20赋值为0，运算表达式为：Con([Slope]>=20, 1, 0)。</li>\n<li>高程：对地形数据进行代数运算，将1000≤高程≤1800赋值为1，其他赋值为0，运算表达式为：Con(1000>=[terrain]>=1800,1,0)。</li>\n<li>湖泊：先设置栅格分析环境的分析范围为地形数据，再对湖泊数据生成距离栅格，对分析得到的距离栅格进行代数运算，将距离小于等于1000的赋值为1，其他赋值为0，运算表达式为：Con( [LakesDis] >= 1000,1,0)。</li>\n<li>道路：对道路数据生成距离栅格，对分析得到的距离栅格进行代数运算，将距离大于等于300的赋值为1，其他赋值为0，运算表达式为：Con( [LakesDis] >= 300,1,0)。</li>\n<li>加权总和：单击 <strong>数据</strong> 选项卡-> <strong>数据处理</strong> -> <strong>加权总和</strong> 按钮，在弹出对话框中添加坡度、高程、湖泊、道路代数运算后的栅格数据，分别将权重值设置为0.3、0.25、0.2、0.15。</li>\n<li>对加权求和后的数据进行栅格代数运算，将栅格值大于等于1的赋值为1，其他的赋值为0，计算结果与已有公园做裁剪，只保留已有公园区域外的数据，裁剪后栅格值为1的则表示适宜建公园，结果如下图蓝色区域所示：<br>\n<a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b9079337abd1455567001d8a5edd59dd/8f8c6/WeightedSumResult.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 360px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 129.44444444444446%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,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'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"WeightedSumResult\"\n        title=\"\"\n        src=\"/static/b9079337abd1455567001d8a5edd59dd/8f8c6/WeightedSumResult.png\"\n        srcset=\"/static/b9079337abd1455567001d8a5edd59dd/6a467/WeightedSumResult.png 210w,\n/static/b9079337abd1455567001d8a5edd59dd/8f8c6/WeightedSumResult.png 360w\"\n        sizes=\"(max-width: 360px) 100vw, 360px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </li>\n</ol>","frontmatter":{"title":"加权总和","next":null,"prev":null},"fields":{"path":"content\\tutorial\\DataProcessing\\Raster\\RasterWeightedSum.zh.md","slug":"/zh/tutorial/DataProcessing/Raster/RasterWeightedSum/","langKey":"zh"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/zh/tutorial/DataProcessing/Raster/RasterWeightedSum/"}}}