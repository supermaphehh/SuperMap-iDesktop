{"componentChunkName":"component---src-templates-tutorial-js","path":"/zh/tutorial/Query/SpatialQuery_Example/","webpackCompilationHash":"b56fc1f276773fcd7503","result":{"data":{"markdownRemark":{"html":"<p>本文以示范数据 China.udb 数据源中的道路、湖泊、行政区划图层为例，查询：</p>\n<ul>\n<li>湖南省包含哪些湖泊；</li>\n<li>经过湖南省境内、且公路代码为 G320 的公路有哪几条。</li>\n</ul>\n<p>具体操作步骤为：</p>\n<ol>\n<li>在当前工作空间中，打开示范数据 China400.udb 数据源。</li>\n<li>新建一个地图窗口，将 Provinces<em>R、Lake</em>R 和 Road_L 三个数据集添加到新建的地图窗口中。</li>\n<li>在地图窗口中，选中 Provinces_R 图层中的湖南省行政区划面，该面即为空间查询的搜索对象。</li>\n<li>单击 <strong>空间分析</strong> 选项卡 > <strong>查询</strong> 组中的 <strong>空间查询</strong> 按钮，弹出“空间查询”对话框。</li>\n<li>\n<p>在被搜索图层列表中，设置需要进行搜索的空间查询条件和属性查询条件。 </p>\n<ul>\n<li>在 Road<em>L 图层列表中，单击“空间查询条件”下拉按钮，设置空间查询算子为“相交</em>面线”，即查询哪些公路穿过湖南省境内；</li>\n<li>在 Road<em>L 图层列表中，单击“属性查询条件”下拉按钮，在下拉列表中单击“表达式…”按钮，弹出 SQL 表达式对话框，在对话框中设置被搜索的公路需要满足属性条件：Road</em>L.CODE = “G320”。</li>\n<li>在 Lake<em>R 图层列表中，单击“空间查询条件”下拉按钮，设置空间查询算子为“包含</em>面面”，即查询湖南省区划范围内包含哪些湖泊。</li>\n</ul>\n</li>\n<li>选中 Road<em>L 和 Lake</em>R 图层，在“结果显示”区域中勾选“在属性表中浏览查询结果”、“在地图窗口中高亮显示查询结果”、“在场景窗口中高亮显示查询结果”三个复选框。</li>\n<li>选中 Road<em>L 图层，勾选“保存查询结果”复选框，设置将对 Road</em>L 图层的查询结果保存到 China.udb 数据源，并重命名结果数据集名称为：湖南省公路_G320。 </li>\n</ol>\n<p>同样方式，将 Lake_R 图层的查询结果数据集命名为：湖南省湖泊。</p>\n<ol start=\"8\">\n<li>单击“ <strong>查询</strong> ”按钮，执行空间查询操作。</li>\n<li>在属性表、地图、场景窗口中，同时浏览查询结果。在查询结果属性表中任意选中一条记录，在地图窗口和场景窗口中会自动定位到相应对象，实现二三维关联浏览。  \n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f40d52c6cf72ca1f8f2e72d4ceb6eb02/b5f89/SP_Exp4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 840px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 44.54865181711606%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACWElEQVQozz3R60vTURzH8T3pQWUqpYQZ64KBmCFqppl3RqbpQiMCCbFHPesPCm9dJKk0y1AJIy9rm87Zgxw5lemcc+133Zybt+m7s0kd+PI958nrfD/nGIJ/vHi9y6ytLuJ2/2Ld60YJellaWmB4fJShsUGGRgcY/vqRb9OjjE+NsLjoRF79gm+hD8/PD6J/Rgn4UAMeDDvKHHF9hn3NLrqVraCdfd3J2NgLcivPUdyYSUlzBqVNmTS1F1Fcf573wz0cHMRRg+sE/RtsrHnE3k9U3cSwpzlha5Y91YpvbQ7Pil2cHUxPdJNTnkpedRrXa09R1XqRp89NVJgvCfA1iSVLQWTPAprbjv+3g4Dfh2FXc4jpbEkwLKYLBSwQm8cy2cvV2ynk16ZRcPcM+XUp1LcVUHQvi8GRl8egLB1DLquIPs2Gbx1DVHKKqLPsyCKqOkt40yYuEBNOdpJz56TA0gWSSW5VOhWtV7jZeJn+oV6ODhOgjKzqaOFtgrKaPAtwnj3FQUyaYVexs6dZk5GnvneLqFncajYKMJsbptNUPzJS9iCbvoEuDg+OUFWFkK6j6xrhUEh0XURW5zjQbcRkC/GQQEV0ovNiwh6K718QgEDNGRQ2pFL3+BplZiP9n7r/gwkkJLDQP3BbSvyuACVr8rdj0g/YdjI10UVezVlKzecpbEwnp/IE5S1G8QypvBnoJJ4ANZVIJJKEEqVpmgDlOXaUGaIiciRoE2XlMOzEbnlHa4eJtmcNtLTXYH5SQUtHLaaHJbx628Py0goejweXy4UkSSiKkux/ATaVJz5HoQO6AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"SP Exp4\"\n        title=\"\"\n        src=\"/static/f40d52c6cf72ca1f8f2e72d4ceb6eb02/04a72/SP_Exp4.png\"\n        srcset=\"/static/f40d52c6cf72ca1f8f2e72d4ceb6eb02/6a467/SP_Exp4.png 210w,\n/static/f40d52c6cf72ca1f8f2e72d4ceb6eb02/635b1/SP_Exp4.png 420w,\n/static/f40d52c6cf72ca1f8f2e72d4ceb6eb02/04a72/SP_Exp4.png 840w,\n/static/f40d52c6cf72ca1f8f2e72d4ceb6eb02/b5f89/SP_Exp4.png 853w\"\n        sizes=\"(max-width: 840px) 100vw, 840px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n      </li>\n</ol>\n<p>图：浏览空间查询结果  </p>","frontmatter":{"title":"空间查询实例","next":null,"prev":null},"fields":{"path":"content\\tutorial\\Query\\SpatialQuery_Example.zh.md","slug":"/zh/tutorial/Query/SpatialQuery_Example/","langKey":"zh"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/zh/tutorial/Query/SpatialQuery_Example/"}}}