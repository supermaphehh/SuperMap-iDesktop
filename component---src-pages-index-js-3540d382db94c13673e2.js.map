{"version":3,"sources":["webpack:///./src/pages/index.js"],"names":["RedirectIndex","args","_this","_React$PureComponent","call","this","window","_langs$defaultLangKey","langs","defaultLangKey","langKey","getUserLangKey","homeUrl","withPrefix","console","log","location","replace","render","Glamor","createElement","React","PureComponent"],"mappings":"yKAIMA,cACJ,SAAAA,EAAYC,GAAM,IAAAC,EAIhB,GAHAA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,KAGsB,oBAAXC,OAAwB,KAAAC,EACC,CAChCC,MAAO,CAAC,KAAM,MACdC,eAAgB,MAFVD,EADyBD,EACzBC,MAAOC,EADkBF,EAClBE,eAITC,EAAUC,yBAAeH,EAAOC,GAChCG,EAAUC,qBAAU,IAAKH,EAAL,KAC1BI,QAAQC,IAAI,QAAQH,GASpBN,OAAOU,SAASC,QAAQL,GApBV,OAAAV,8BAyBlBgB,OAAA,WACE,OAAQC,EAAAC,cAAA,gBA3BgBC,IAAMC,eA+BnBtB","file":"component---src-pages-index-js-3540d382db94c13673e2.js","sourcesContent":["import React from 'react';\nimport { getUserLangKey } from 'ptz-i18n';\nimport { withPrefix } from 'gatsby-link';\n\nclass RedirectIndex extends React.PureComponent {\n  constructor(args) {\n    super(args);\n\n    // Skip build, Browsers only\n    if (typeof window !== 'undefined') {\n      const { langs, defaultLangKey } = {\n        langs: ['en', 'zh'],\n        defaultLangKey: 'en'\n      };\n      const langKey = getUserLangKey(langs, defaultLangKey);\n      const homeUrl = withPrefix(`/${langKey}/`);\n      console.log(\"demo:\",homeUrl);\n\n      // I don`t think this is the best solution\n      // I would like to use Gatsby Redirects like: \n      // https://github.com/gatsbyjs/gatsby/tree/master/examples/using-redirects\n      // But Gatsby Redirects are static, they need to be specified at build time,\n      // This redirect is dynamic, It needs to know the user browser language.\n      // Any ideias? Join the issue: https://github.com/angeloocana/gatsby-starter-default-i18n/issues/4\n      // if(window.___history){window.___history.replace(homeUrl);}\n      window.location.replace(homeUrl); \n      \n    }\n  }\n\n  render() {\n    return (<div />);\n  }\n}\n\nexport default RedirectIndex;"],"sourceRoot":""}